(this.webpackJsonpkchat=this.webpackJsonpkchat||[]).push([[0],{54:function(e,t,a){},55:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var c=a(8),n=a.n(c),r=a(45),s=a.n(r),i=(a(54),a(55),a(26)),j=a(16),l=a(0),o=a.n(l),u=a(2),b=a(11),d=a(46),O=a(28),A=a(12),x=a(21),h={apiKey:"AIzaSyCpm1MKClP3-qgQUsn4rKHAR_oxNxkO1rI",authDomain:"kchat-ee0a8.firebaseapp.com",databaseURL:"https://kchat-ee0a8.firebaseio.com",projectId:"kchat-ee0a8",storageBucket:"kchat-ee0a8.appspot.com",messagingSenderId:"652241669787",appId:Object({NODE_ENV:"production",PUBLIC_URL:"/%7Bkchat%7D",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCpm1MKClP3-qgQUsn4rKHAR_oxNxkO1rI",REACT_APP_APP_ID:"1:652241669787:web:08c98b2be91c38cb76003e",REACT_APP_AUTH_DOMAIN:"kchat-ee0a8.firebaseapp.com",REACT_APP_DATABASE_URL:"https://kchat-ee0a8.firebaseio.com",REACT_APP_MESSAGING_SENDER_ID:"652241669787",REACT_APP_PROJECT_ID:"kchat-ee0a8",REACT_APP_STORAGE_BUCKET:"kchat-ee0a8.appspot.com"}).REACT_APP_API_ID},m=Object(d.a)(h),f=Object(O.b)(m),p=Object(A.f)(m),v=Object(x.c)(m),g="data:image/png;base64,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",w=a(5),C=function(e){var t=e.user1,a=e.user,n=e.selectUser,r=e.chat,s=null===a||void 0===a?void 0:a.uid,i=Object(c.useState)(""),j=Object(b.a)(i,2),l=j[0],o=j[1];return Object(c.useEffect)((function(){var e="".concat(t>s?t+s:s+t),a=Object(A.g)(Object(A.d)(p,"lastMsg",e),(function(e){o(e.data())}));return function(){return a()}}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"user_wrapper ".concat(r.name===a.name&&"selected_user"),onClick:function(){return n(a)},children:[Object(w.jsxs)("div",{className:"user_info",children:[Object(w.jsxs)("div",{className:"user_detail",children:[Object(w.jsx)("img",{src:a.avatar||g,alt:"avatar",className:"avatar"}),Object(w.jsx)("h4",{children:a.name}),(null===l||void 0===l?void 0:l.from)!==t&&(null===l||void 0===l?void 0:l.unread)&&Object(w.jsx)("small",{className:"unread",children:"New"})]}),Object(w.jsx)("div",{className:"user_status ".concat(a.isOnline?"online":"offline")})]}),l&&Object(w.jsxs)("p",{className:"truncate",children:[Object(w.jsx)("strong",{children:l.from===t?"Me:":null}),l.text]})]}),Object(w.jsx)("div",{onClick:function(){return n(a)},className:"sm_container ".concat(r.name===a.name&&"selected_user"),children:Object(w.jsx)("img",{src:a.avatar||g,alt:"avatar",className:"avatar sm_screen"})})]})},P=function(){return Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"25px",height:"25px",cursor:"pointer",color:"gray"},viewBox:"0 0 20 20",fill:"currentColor",children:Object(w.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})})},N=function(e){var t=e.handleSubmit,a=e.text,c=e.setText,n=e.setImg;return Object(w.jsxs)("form",{className:"message_form",onSubmit:t,children:[Object(w.jsx)("label",{htmlFor:"img",children:Object(w.jsx)(P,{})}),Object(w.jsx)("input",{onChange:function(e){return n(e.target.files[0])},type:"file",id:"img",accept:"image/*",style:{display:"none"}}),Object(w.jsx)("div",{children:Object(w.jsx)("input",{type:"text",placeholder:"Enter message",value:a,onChange:function(e){return c(e.target.value)}})}),Object(w.jsx)("div",{children:Object(w.jsx)("button",{className:"btn",children:"Send"})})]})},E=a(47),k=a.n(E),F=function(e){var t=e.msg,a=e.user1,n=Object(c.useRef)();return Object(c.useEffect)((function(){var e;null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[t]),Object(w.jsx)("div",{className:"message_wrapper ".concat(t.from===a?"own":""),ref:n,children:Object(w.jsxs)("p",{className:t.from===a?"me":"friend",children:[t.media?Object(w.jsx)("img",{src:t.media,alt:t.text}):null,t.text,Object(w.jsx)("br",{}),Object(w.jsx)("small",{children:Object(w.jsx)(k.a,{fromNow:!0,children:t.createdAt.toDate()})})]})})},R=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(b.a)(r,2),i=s[0],j=s[1],l=Object(c.useState)(""),d=Object(b.a)(l,2),O=d[0],h=d[1],m=Object(c.useState)(""),g=Object(b.a)(m,2),P=g[0],E=g[1],k=Object(c.useState)([]),R=Object(b.a)(k,2),S=R[0],I=R[1],T=f.currentUser.uid;Object(c.useEffect)((function(){var e=Object(A.c)(p,"users"),t=Object(A.i)(e,Object(A.l)("uid","not-in",[T])),a=Object(A.g)(t,(function(e){var t=[];e.forEach((function(e){t.push(e.data())})),n(t)}));return function(){return a()}}),[]);var K=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,c,n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(t),a=t.uid,c="".concat(T>a?T+a:a+T),n=Object(A.c)(p,"messages",c,"chat"),r=Object(A.i)(n,Object(A.h)("createdAt","asc")),Object(A.g)(r,(function(e){var t=[];e.forEach((function(e){t.push(e.data())})),I(t)})),e.next=8,Object(A.e)(Object(A.d)(p,"lastMsg",c));case 8:if(!(s=e.sent).data()||s.data().from===T){e.next=12;break}return e.next=12,Object(A.k)(Object(A.d)(p,"lastMsg",c),{unread:!1});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,c,n,r,s,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=i.uid,c="".concat(T>a?T+a:a+T),!P){e.next=12;break}return r=Object(x.d)(v,"images/".concat((new Date).getTime()," - ").concat(P.name)),e.next=7,Object(x.e)(r,P);case 7:return s=e.sent,e.next=10,Object(x.b)(Object(x.d)(v,s.ref.fullPath));case 10:j=e.sent,n=j;case 12:return e.next=14,Object(A.b)(Object(A.c)(p,"messages",c,"chat"),{text:O,from:T,to:a,createdAt:A.a.fromDate(new Date),media:n||""});case 14:return e.next=16,Object(A.j)(Object(A.d)(p,"lastMsg",c),{text:O,from:T,to:a,createdAt:A.a.fromDate(new Date),media:n||"",unread:!0});case 16:h("");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"home_container",children:[Object(w.jsx)("div",{className:"users_container",children:a.map((function(e){return Object(w.jsx)(C,{user:e,selectUser:K,user1:T,chat:i},e.uid)}))}),Object(w.jsx)("div",{className:"messages_container",children:i?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"messages_user",children:Object(w.jsx)("h3",{children:i.name})}),Object(w.jsx)("div",{className:"messages",children:S.length?S.map((function(e,t){return Object(w.jsx)(F,{msg:e,user1:T},t)})):null}),Object(w.jsx)(N,{handleSubmit:U,text:O,setText:h,setImg:E})]}):Object(w.jsx)("h3",{className:"no_conv",children:"Select a user to start conversation"})})]})},S=function(){return Object(w.jsx)("div",{style:{position:"relative"},children:Object(w.jsx)("h2",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%"},children:"Loading..."})})},I=Object(c.createContext)(),T=function(e){var t=e.children,a=Object(c.useState)(null),n=Object(b.a)(a,2),r=n[0],s=n[1],i=Object(c.useState)(!0),j=Object(b.a)(i,2),l=j[0],o=j[1];return Object(c.useEffect)((function(){Object(O.c)(f,(function(e){s(e),o(!1)}))}),[]),l?Object(w.jsx)(S,{}):Object(w.jsx)(I.Provider,{value:{user:r},children:t})},K=function(){var e=Object(j.g)(),t=Object(c.useContext)(I).user,a=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(A.k)(Object(A.d)(p,"users",f.currentUser.uid),{isOnline:!1});case 2:return t.next=4,Object(O.e)(f);case 4:e.replace("/Login");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(w.jsxs)("nav",{children:[Object(w.jsx)("h3",{children:Object(w.jsx)(i.b,{to:"/",children:"kChat"})}),Object(w.jsxs)("div",{children:[t?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(i.b,{to:"/Profile",children:"Profile"}),Object(w.jsx)("button",{className:"btn",onClick:a,children:"Logout"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(i.b,{to:"/Register",children:"Register"}),Object(w.jsx)(i.b,{to:"/Login",children:"Login"})]}),";"]})]})},U=a(4),L=a(15),M=function(){var e=Object(c.useState)({name:"",email:"",password:"",error:null,loading:!1}),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(j.g)(),s=a.name,i=a.email,l=a.password,d=a.error,x=a.loading,h=function(e){n(Object(L.a)(Object(L.a)({},a),{},Object(U.a)({},e.target.name,e.target.value)))},m=function(){var e=Object(u.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n(Object(L.a)(Object(L.a)({},a),{},{error:null,loading:!0})),s&&i&&l||n(Object(L.a)(Object(L.a)({},a),{},{error:"All fields are required"})),e.prev=3,e.next=6,Object(O.a)(f,i,l);case 6:return c=e.sent,e.next=9,Object(A.j)(Object(A.d)(p,"users",c.user.uid),{uid:c.user.uid,name:s,email:i,createdAt:A.a.fromDate(new Date),isOnline:!0});case 9:n({name:"",email:"",password:"",error:null,loading:!1}),r.replace("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),n(Object(L.a)(Object(L.a)({},a),{},{error:e.t0.message,loading:!1}));case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("section",{children:[Object(w.jsx)("h3",{children:"Create an Account"}),Object(w.jsxs)("form",{className:"form",onSubmit:m,children:[Object(w.jsxs)("div",{className:"input_container",children:[Object(w.jsx)("label",{htmlFor:"name",children:"Name"}),Object(w.jsx)("input",{type:"text",name:"name",value:s,onChange:h})]}),Object(w.jsxs)("div",{className:"input_container",children:[Object(w.jsx)("label",{htmlFor:"email",children:"Email"}),Object(w.jsx)("input",{type:"text",name:"email",value:i,onChange:h})]}),Object(w.jsxs)("div",{className:"input_container",children:[Object(w.jsx)("label",{htmlFor:"Password",children:"Password"}),Object(w.jsx)("input",{type:"password",name:"password",value:l,onChange:h})]}),d?Object(w.jsx)("p",{className:"er",children:d}):null,Object(w.jsx)("div",{className:"btn_container",children:Object(w.jsx)("button",{className:"btn",disabled:x,children:x?"Creating...":"Register"})})]})]})},H=function(){var e=Object(c.useState)({email:"",password:"",error:null,loading:!1}),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(j.g)(),s=a.email,i=a.password,l=a.error,d=a.loading,x=function(e){n(Object(L.a)(Object(L.a)({},a),{},Object(U.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(u.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n(Object(L.a)(Object(L.a)({},a),{},{error:null,loading:!0})),s&&i||n(Object(L.a)(Object(L.a)({},a),{},{error:"All fields are required"})),e.prev=3,e.next=6,Object(O.d)(f,s,i);case 6:return c=e.sent,e.next=9,Object(A.k)(Object(A.d)(p,"users",c.user.uid),{isOnline:!0});case 9:n({email:"",password:"",error:null,loading:!1}),r.replace("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),n(Object(L.a)(Object(L.a)({},a),{},{error:e.t0.message,loading:!1}));case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("section",{children:[Object(w.jsx)("h3",{children:"Log in to your Account"}),Object(w.jsxs)("form",{className:"form",onSubmit:h,children:[Object(w.jsxs)("div",{className:"input_container",children:[Object(w.jsx)("label",{htmlFor:"email",children:"Email"}),Object(w.jsx)("input",{type:"text",name:"email",value:s,onChange:x})]}),Object(w.jsxs)("div",{className:"input_container",children:[Object(w.jsx)("label",{htmlFor:"Password",children:"Password"}),Object(w.jsx)("input",{type:"password",name:"password",value:i,onChange:x})]}),l?Object(w.jsx)("p",{className:"er",children:l}):null,Object(w.jsx)("div",{className:"btn_container",children:Object(w.jsx)("button",{className:"btn",disabled:d,children:d?"Logging in...":"Login"})})]})]})},y=a(49),q=["component"],D=function(e){var t=e.component,a=Object(y.a)(e,q),n=Object(c.useContext)(I).user;return Object(w.jsx)(j.b,Object(L.a)(Object(L.a)({},a),{},{exact:!0,render:function(e){return n?Object(w.jsx)(t,Object(L.a)({},e)):Object(w.jsx)(j.a,{to:"/login"})}}))},B=function(){return Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"25px",height:"25px",cursor:"pointer"},viewBox:"0 0 20 20",fill:"currentColor",children:Object(w.jsx)("path",{fillRule:"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})},G=function(e){var t=e.deleteImage;return Object(w.jsx)("svg",{onClick:t,xmlns:"http://www.w3.org/2000/svg",style:{width:"25px",height:"25px",cursor:"pointer",color:"#f24957"},viewBox:"0 0 20 20",fill:"currentColor",children:Object(w.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})},Q=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(),s=Object(b.a)(r,2),i=s[0],l=s[1],d=Object(j.g)("");Object(c.useEffect)((function(){if(Object(A.e)(Object(A.d)(p,"users",f.currentUser.uid)).then((function(e){e.exists&&l(e.data())})),a){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(x.d)(v,"avatar/".concat((new Date).getTime()," - ").concat(a.name)),e.prev=1,!i.avatarPath){e.next=5;break}return e.next=5,Object(x.a)(Object(x.d)(v,i.avatarPath));case 5:return e.next=7,Object(x.e)(t,a);case 7:return c=e.sent,e.next=10,Object(x.b)(Object(x.d)(v,c.ref.fullPath));case 10:return r=e.sent,e.next=13,Object(A.k)(Object(A.d)(p,"users",f.currentUser.uid),{avatar:r,avatarPath:c.ref.fullPath});case 13:n(""),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}();e()}}),[a]);var O=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.confirm("Delete avatar?")){e.next=8;break}return e.next=5,Object(x.a)(Object(x.d)(v,i.avatarPath));case 5:return e.next=7,Object(A.k)(Object(A.d)(p,"users",f.currentUser.uid),{avatar:"",avatarPath:""});case 7:d.replace("/");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return i?Object(w.jsx)("section",{children:Object(w.jsxs)("div",{className:"profile_container",children:[Object(w.jsxs)("div",{className:"img_container",children:[Object(w.jsx)("img",{src:i.avatar||g,alt:"avatar"}),Object(w.jsx)("div",{className:"overlay",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{htmlFor:"photo",children:Object(w.jsx)(B,{})}),i.avatar?Object(w.jsx)(G,{deleteImage:O}):null,Object(w.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},id:"photo",onChange:function(e){return n(e.target.files[0])}})]})})]}),Object(w.jsxs)("div",{className:"text_container",children:[Object(w.jsx)("h3",{children:i.name}),Object(w.jsx)("p",{children:i.email}),Object(w.jsx)("hr",{}),Object(w.jsxs)("small",{children:["Joined on: ",i.createdAt.toDate().toDateString()]})]})]})}):null};var V=function(){return Object(w.jsx)(T,{children:Object(w.jsxs)(i.a,{children:[Object(w.jsx)(K,{}),Object(w.jsxs)(j.d,{children:[Object(w.jsx)(j.b,{exact:!0,path:"/Login",component:H}),Object(w.jsx)(j.b,{exact:!0,path:"/Register",component:M}),Object(w.jsx)(D,{exact:!0,path:"/Profile",component:Q}),Object(w.jsx)(D,{exact:!0,path:"/",component:R})]})]})})};s.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(V,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.36523243.chunk.js.map